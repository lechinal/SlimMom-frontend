"use strict";(self.webpackChunkslim_mom=self.webpackChunkslim_mom||[]).push([[579],{612:function(e,t,r){r.d(t,{Z:function(){return f}});var a=r(2791),o={sidebarBox:"SideBar_sidebarBox__gs8FI",contentBox:"SideBar_contentBox__QFPGc",summaryTitle:"SideBar_summaryTitle__p3hMx",summaryTextBox:"SideBar_summaryTextBox__hHaSI",summaryTextBoxDetails:"SideBar_summaryTextBoxDetails__WbfCD",summaryTextBoxResults:"SideBar_summaryTextBoxResults__NJHSW",notRecomandedFoodBoxTitle:"SideBar_notRecomandedFoodBoxTitle__CpwzZ",notRecomandedFoodBoxProducts:"SideBar_notRecomandedFoodBoxProducts__sGrFA",ifNotCalories:"SideBar_ifNotCalories__qRCp2",summaryBox:"SideBar_summaryBox__+45WE",notRecommandedFoodBox:"SideBar_notRecommandedFoodBox__Bpen5"},n=r(4420),s=r(8983),d=r(9654),i=r(6178),c=function(e){return e.date.selectedDate},l=r(9776),u=r(5678),m=r(9439),x="SiderbarBackground_background__Y3AR0",p="SiderbarBackground_leaves__krvud",h=r.p+"static/media/tablet-leafs-1x.b9c8956d38e7c0407b03.png",_=r(1446),A=r(184);var j=function(e){var t=e.children,r=(0,a.useState)(0),o=(0,m.Z)(r,2),n=o[0],s=o[1],d=function(){var e=document.documentElement.clientWidth;s(e)};return(0,a.useEffect)((function(){d(),window.addEventListener("resize",d)}),[]),(0,A.jsxs)("div",{className:x,children:[n<=768?null:n<=1280?(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("div",{className:p,children:(0,A.jsx)("img",{src:h,alt:"Leaves"})})}):(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("div",{className:p,children:(0,A.jsx)("img",{src:_,alt:"Leaves"})})}),t]})};var f=function(){var e=(0,n.v9)(s.x),t=(0,n.v9)(c),r=(0,n.v9)(i.a),a=r.countedCalories,m=r.notAllowedFoodCategories,x=(0,n.v9)(d.B).reduce((function(e,t){return e+Number(t.productCalories)}),0).toFixed(2),p=(Number(a)-x).toFixed(2),h=(x/Number(a)*100).toFixed(2);return(0,A.jsx)(j,{children:(0,A.jsx)("section",{className:o.sidebarBox,children:(0,A.jsxs)("div",{className:o.contentBox,children:[(0,A.jsxs)("div",{className:o.summaryBox,children:[e?(0,A.jsx)(l.a,{}):null,(0,A.jsx)("div",{className:o.summaryTitleBox,children:(0,A.jsxs)("h2",{className:o.summaryTitle,children:["Summary for"," ",(0,A.jsx)("span",{children:t||u.D6.split("-").join(".")})]})}),(0,A.jsxs)("div",{className:o.summaryTextBox,children:[(0,A.jsxs)("ul",{className:o.summaryTextBoxDetails,children:[(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsx)("span",{children:"Left"})})}),(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsx)("span",{children:"Consumed"})})}),(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsx)("span",{children:"Daily rate"})})}),(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsx)("span",{children:"n% of normal"})})})]}),(0,A.jsxs)("ul",{className:o.summaryTextBoxResults,children:[(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsxs)("span",{children:[" ",p," kcal"]})})}),(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsxs)("span",{children:[x," kcal"]})})}),(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsxs)("span",{children:[null!==a&&void 0!==a?a:0," kcal"]})})}),(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsxs)("span",{children:[isNaN(h)?0:h," %"]})})})]})]})]}),(0,A.jsxs)("div",{className:o.notRecomandedFoodBox,children:[(0,A.jsx)("div",{className:o.TitleBox,children:(0,A.jsx)("h2",{className:o.notRecomandedFoodBoxTitle,children:"Food not recommended"})}),a?(0,A.jsx)("ul",{className:o.notRecomandedFoodBoxProducts,children:m&&m.slice(0,4).map((function(e){return(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsx)("span",{children:(t=e,t.charAt(0).toUpperCase()+t.slice(1))})})},e);var t}))}):(0,A.jsx)("div",{className:o.ifNotCalories,children:(0,A.jsx)("p",{children:"Your diet will be displayed here"})})]})]})})})}},5010:function(e,t,r){r.r(t),r.d(t,{default:function(){return Q}});var a=r(9439),o=r(2791),n=r(612),s=r(4420),d="DiaryProductList_productListBox__03XND",i="DiaryProductList_productList__t9cRI",c="DiaryProductList_noProductsText__H2DGR",l=r(9654),u=r(5612),m={diaryProductListItem:"DiaryProductListItem_diaryProductListItem__kWlr+",productName:"DiaryProductListItem_productName__+Yty8",productWeight:"DiaryProductListItem_productWeight__erxLX",productCalories:"DiaryProductListItem_productCalories__37KLm",Kcal:"DiaryProductListItem_Kcal__zLTxa",removeButton:"DiaryProductListItem_removeButton__N2JZ3",closeIcon:"DiaryProductListItem_closeIcon__i6j+1",productListItemBox:"DiaryProductListItem_productListItemBox__Ecysc"},x=r(2092),p=r(9726),h=r(184);var _=function(e){var t=e._id,r=e.productName,n=e.productWeight,d=e.productCalories,i=(0,s.I0)(),c=(0,o.useState)(!1),l=(0,a.Z)(c,2),_=l[0],A=l[1],j=function(){A(!1),window.document.body.style.overflow="unset"};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:m.productListItemBox,children:(0,h.jsx)("div",{className:m.diaryProductListItem,children:(0,h.jsxs)("li",{children:[(0,h.jsx)("p",{className:m.productName,children:r}),(0,h.jsxs)("p",{className:m.productWeight,children:[n," g"]}),(0,h.jsxs)("p",{className:m.productCalories,children:[d," ",(0,h.jsx)("span",{className:m.Kcal,children:"kcal"})]}),(0,h.jsx)("button",{className:m.removeButton,type:"button",onClick:function(){A(!0),window.document.body.style.overflow="hidden"},children:(0,h.jsx)("img",{src:p.Z,className:m.closeIcon,alt:"close icon"})}),(0,h.jsx)("div",{className:m.modal,children:_&&(0,h.jsx)(x.Z,{closeModal:j,acceptAction:"Delete ".concat(r),agreeButton:{text:"Delete",action:function(){A(!1),window.document.body.style.overflow="unset",i((0,u.wr)(t))}},desagreeButton:{text:"Cancel",action:j}})})]})})})})};var A=function(){var e=(0,s.v9)(l.B);return(0,h.jsx)("div",{className:d,children:e.length>0?(0,h.jsx)("ul",{className:i,children:e.map((function(e){var t=e._id,r=e.productName,a=e.productWeight,o=e.productCalories;return(0,h.jsx)(_,{_id:t,productName:r,productWeight:a,productCalories:o},t)}))}):(0,h.jsx)("p",{className:c,children:"No products found"})})},j=r(1413),f=r(7689),v=r(1134),B=r(5861),g=r(4687),N=r.n(g),y=r(5294),b=function(){var e=(0,B.Z)(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.Z.get("products?productTitle=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var F=function(e,t){var r=(0,o.useState)(e),n=(0,a.Z)(r,2),s=n[0],d=n[1];return(0,o.useEffect)((function(){var r=setTimeout((function(){return d(e)}),t||500);return function(){clearTimeout(r)}}),[e,t]),s},w={addProductBox:"DiaryAddProductForm_addProductBox__LIvRO",addProductForm:"DiaryAddProductForm_addProductForm__a2Jzr",labelProduct:"DiaryAddProductForm_labelProduct__PyIS-",inputForm:"DiaryAddProductForm_inputForm__Bki01",labelGrams:"DiaryAddProductForm_labelGrams__ILyjq",addButtonBox:"DiaryAddProductForm_addButtonBox__YqgrF",addButton:"DiaryAddProductForm_addButton__T96ha",addButtonImg:"DiaryAddProductForm_addButtonImg__USzp2",productItem:"DiaryAddProductForm_productItem__OFpJK",error:"DiaryAddProductForm_error__+EWQ+",span:"DiaryAddProductForm_span__URUKX"};var D=function(e){var t,r,n=e.isShowAddForm,d=e.openModal,i=e.img,c=(0,o.useState)(""),l=(0,a.Z)(c,2),m=l[0],x=l[1],_=F(m,1e3),A=(0,s.I0)(),B=(0,v.cI)({mode:"onChange",defaultValues:{product:"",weight:""}}),g=B.register,N=B.handleSubmit,y=B.watch,D=B.formState,C=D.errors,I=D.isValid,P=B.setValue,S=B.reset,L=y("product"),R=y("weight"),k=(0,f.UO)().date,T=(0,o.useState)([]),E=(0,a.Z)(T,2),Y=E[0],Z=E[1],U=(0,o.useState)(""),W=(0,a.Z)(U,2),Q=W[0],M=W[1],J=(0,o.useState)(""),O=(0,a.Z)(J,2),G=O[0],X=O[1];return(0,o.useEffect)((function(){P("product",Q)}),[P,Q]),(0,o.useEffect)((function(){_&&b(_).then((function(e){var t=e.data.map((function(e){return{id:e._id,title:e.title,calories:e.calories}}));Z(t)}))}),[_]),(0,h.jsx)("div",{className:w.addProductBox,children:(0,h.jsxs)("form",{className:w.addProductForm,onSubmit:N((function(){var e=(G*R/100).toString(),t={productName:L,productWeight:R,productCalories:e,date:k};A((0,u.fz)(t)),n&&d(),M(""),S()})),children:[(0,h.jsxs)("label",{className:w.labelProduct,children:["Enter product name",(0,h.jsx)("input",(0,j.Z)({className:w.inputForm,type:"text",autoComplete:"off"},g("product",{required:"Enter the name of the product/dish",onChange:function(e){return(t=e.target.value).length>1&&x(t),void Z([]);var t}}))),Y.length>0&&(0,h.jsx)("ul",{className:w.productSelectList,children:Y.map((function(e){return(0,h.jsx)("li",{className:w.productItem,onClick:function(t){M(t.target.innerText),X(e.calories),Z([])},children:e.title},e.title)}))}),L&&(0,h.jsx)("div",{className:w.clearField,onClick:function(){P("product",""),Z([])},children:(0,h.jsx)("img",{src:p.Z,alt:"cross"})}),(null===C||void 0===C?void 0:C.product)&&(0,h.jsx)("p",{className:w.error,children:null===C||void 0===C||null===(t=C.product)||void 0===t?void 0:t.message})]}),(0,h.jsxs)("label",{className:w.labelGrams,children:[(0,h.jsx)("span",{className:w.span,children:"Grams"}),(0,h.jsx)("input",(0,j.Z)({className:w.inputForm,value:R,type:"number"},g("weight",{required:"Enter the weight of the product",min:{value:1,message:"Enter at least 1g"},validate:function(e){return!0===Number.isInteger(parseFloat(e))}}))),(null===C||void 0===C?void 0:C.weight)&&(0,h.jsx)("p",{className:w.error,children:null===C||void 0===C||null===(r=C.weight)||void 0===r?void 0:r.message})]}),(0,h.jsx)("div",{className:w.addButtonBox,children:(0,h.jsx)("button",{className:"".concat(w.addButton," ").concat("Add"!==i?w.addButtonImg:""),type:"submit",disabled:!I||!Q,children:"Add"===i?"Add":(0,h.jsx)("img",{src:i,alt:"Add"})})})]})})},C=r(186),I=r(4217),P=r(2426),S=r.n(P),L=r(1799),R=r.n(L),k=(r(1778),{dateBox:"DiaryDateCalendar_dateBox__IlWQf",datetimeBox:"DiaryDateCalendar_datetimeBox__f82bw",date:"DiaryDateCalendar_date__hrf1Y"});var T=r.p+"static/media/calendar.8584f46a638e3b9d232e1b8f67b3b7f4.svg",E=function(e){return e.split(".").join("-")},Y=S()(new Date).format("DD.MM.YYYY");var Z=function(){var e=(0,f.UO)().date,t=(0,s.I0)(),r=(0,f.s0)(),n=(0,s.v9)(I.Qb).isLoggedIn,d=(0,s.v9)(I.wU),i=(0,o.useState)((function(){return e?e.split("-").join("."):(r("/diary/".concat(E(e))),Y)})),c=(0,a.Z)(i,2),l=c[0],m=c[1];(0,o.useEffect)((function(){if(y.Z.defaults.headers.common.Authorization){var e=l.split(".").join("-");t((0,C.jI)(l)),n&&t((0,u.ks)(e)),!d&&t((0,u.ks)(e))}}),[t,l,r,n,d]);var x=S()();return(0,h.jsx)("div",{className:k.datetimeBox,children:(0,h.jsx)(R(),{isValidDate:function(e){return e.isBefore(x)},renderInput:function(e,t){return(0,h.jsxs)("div",{onClick:t,className:k.dateBox,children:[(0,h.jsx)("span",{className:k.date,children:l}),(0,h.jsx)("img",{className:k.calendarIcon,src:T,alt:"calendar",width:"20"})]})},value:l,dateFormat:"DD.MM.YYYY",closeOnSelect:!0,timeFormat:!1,strictParsing:!0,onChange:function(e){var t=S()(e).format("DD.MM.YYYY");m(t),r("/diary/".concat(E(t)))}})})},U={button:"DiaryPage_button__RYRRM",subdirectoryIcon:"DiaryPage_subdirectoryIcon__PyBmK",desktopForm:"DiaryPage_desktopForm__VO1Qb"},W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA+SURBVHgB7dFBCgAgCETRT3T/K9XNJgJblULugh64GkVQcEhqs7gl4+WFpJcG7Xqb1aCzlt7o+u+AGmQ9yBin50eRMbrCmAAAAABJRU5ErkJggg==";var Q=function(e){e.img;var t=(0,o.useState)(!1),r=(0,a.Z)(t,2),s=r[0],d=r[1],i=(0,o.useState)(window.innerWidth>768),c=(0,a.Z)(i,2),l=c[0],u=c[1],m=function(){u(window.innerWidth>768)};(0,o.useEffect)((function(){return window.addEventListener("resize",m),function(){return window.removeEventListener("resize",m)}}),[]);var x=function(){d(!s)};return(0,h.jsx)("div",{className:"".concat(U.wrapPage," ").concat(s?U.addFormOpen:""),children:(0,h.jsxs)("div",{className:"".concat(U.wrapForm," ").concat(s?U.addFormOpen:""),children:[(0,h.jsxs)("div",{children:[(0,h.jsx)(Z,{}),s&&!l&&(0,h.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",left:"0",top:"122px",zIndex:"1",backgroundColor:"white"},children:(0,h.jsxs)("div",{className:U.mobileBoxForm,children:[(0,h.jsx)("div",{className:U.subdirectoryIconWrapper,onClick:function(){return x()},children:(0,h.jsx)("img",{className:U.subdirectoryIcon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAJCAYAAADtj3ZXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABcSURBVHgBnZHtCYAwDERPcABHcBQ30g2SVZxMN6lBWjj63T54v5rLQQOknOaOCcR05mNulTn1JkEXP2T451YKhsBL25sc1DjkQi1CzTcGUdoqmEDR99tFLnTe+QNsViIJivq5QgAAAABJRU5ErkJggg==",alt:"arrow icon"})}),(0,h.jsx)(D,{img:"Add",isShowAddForm:s,openModal:x})]})}),l&&(0,h.jsx)("div",{className:U.desktopForm,children:(0,h.jsx)(D,{img:l?W:"Add",isShowAddForm:s,openModal:x})}),(0,h.jsx)(A,{})]}),(0,h.jsxs)("div",{className:U.wrapSideBar,children:[!s&&!l&&(0,h.jsx)("div",{className:U.buttonBox,children:(0,h.jsx)("button",{className:U.button,onClick:x,children:(0,h.jsx)("img",{src:W,alt:"button to add product"})})}),!s&&(0,h.jsx)(n.Z,{})]})]})})}},6178:function(e,t,r){r.d(t,{a:function(){return a}});var a=function(e){return e.calculate}},8983:function(e,t,r){r.d(t,{x:function(){return a}});var a=function(e){return e.loading.isLoading}},9654:function(e,t,r){r.d(t,{B:function(){return a}});var a=function(e){return e.productList.productsDiary}},1446:function(e,t,r){e.exports=r.p+"static/media/desktop-leafs-1x.1d0977f6a1a80da94e8f.png"}}]);
//# sourceMappingURL=579.804e17f5.chunk.js.map